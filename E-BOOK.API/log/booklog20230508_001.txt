2023-05-08 21:02:32.900 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:02:34.473 +01:00 [DBG] Hosting starting
2023-05-08 21:02:34.511 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:02:34.522 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:02:34.599 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:02:34.747 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:02:34.752 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:02:34.762 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:02:34.769 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:02:34.778 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:02:34.784 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:02:34.794 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:02:34.799 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:02:35.104 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:02:35.234 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:02:35.236 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:02:35.240 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:02:35.244 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:02:35.246 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:02:35.248 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:02:35.250 +01:00 [INF] Hosting environment: Development
2023-05-08 21:02:35.252 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:02:35.255 +01:00 [DBG] Hosting started
2023-05-08 21:02:35.331 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" accepted.
2023-05-08 21:02:35.337 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" started.
2023-05-08 21:02:35.511 +01:00 [DBG] Connection 0HMQFVSL9QEQP established using the following protocol: "Tls13"
2023-05-08 21:02:36.401 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" accepted.
2023-05-08 21:02:36.405 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" started.
2023-05-08 21:02:36.430 +01:00 [DBG] Connection 0HMQFVSL9QEQQ established using the following protocol: "Tls13"
2023-05-08 21:02:36.521 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:02:36.541 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" accepted.
2023-05-08 21:02:36.545 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" started.
2023-05-08 21:02:36.550 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:02:36.571 +01:00 [DBG] Connection 0HMQFVSL9QEQR established using the following protocol: "Tls13"
2023-05-08 21:02:36.575 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:02:36.661 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:02:36.661 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:02:36.677 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:02:36.677 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:02:36.681 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:02:36.683 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:02:36.702 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:02:36.788 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:02:36.788 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:02:36.813 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:02:36.813 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:02:36.893 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:02:36.908 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:02:36.982 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:02:36.988 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:02:36.991 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:02:36.994 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:02:36.997 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:02:37.001 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:02:37.006 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:02:37.244 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:02:37.247 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:02:37.248 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:02:37.256 +01:00 [DBG] Authorization was successful.
2023-05-08 21:02:37.257 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:02:37.265 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:02:37.269 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:02:37.271 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:02:37.273 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:02:37.275 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:02:37.276 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:02:37.279 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:02:37.302 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:02:37.306 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:02:37.319 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:02:37.319 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:02:37.324 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:02:37.324 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:02:37.327 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:02:37.328 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:02:37.330 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:02:37.331 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:02:37.332 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:02:37.333 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:02:37.337 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:02:37.341 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:02:37.343 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:02:37.345 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:02:37.345 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:02:37.347 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:02:37.349 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:02:37.351 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:02:38.566 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:02:38.571 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:02:39.208 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:02:39.208 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:02:39.280 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:02:39.281 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:02:39.610 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:02:39.611 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:02:39.670 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:02:39.672 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:02:39.734 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-05-08 21:02:39.734 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (59ms).
2023-05-08 21:02:39.746 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:02:39.746 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:02:39.775 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:02:39.775 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:02:39.794 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:02:39.794 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:02:39.847 +01:00 [ERR] Failed executing DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:02:39.847 +01:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:02:39.855 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:02:39.867 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:02:39.917 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:02:39.924 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:02:39.935 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:02:39.983 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:02:39.998 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:02:39.999 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:02:40.001 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:02:40.011 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:02:40.016 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:02:40.052 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 3035.5992ms
2023-05-08 21:02:40.062 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:02:40.065 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" completed keep alive response.
2023-05-08 21:02:40.078 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:02:40.080 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:02:40.096 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:02:40.096 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 3582.7538ms
2023-05-08 21:02:40.108 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:02:40.115 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:02:40.119 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:02:40.120 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:02:40.121 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:02:40.123 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:02:40.125 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:02:40.194 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2915.598ms
2023-05-08 21:02:40.212 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:02:40.215 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" completed keep alive response.
2023-05-08 21:02:40.219 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:02:40.225 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3649.7156ms
2023-05-08 21:02:46.545 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" received FIN.
2023-05-08 21:02:46.546 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" is closed. The last processed stream ID was 0.
2023-05-08 21:02:46.548 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" sending FIN because: "The client closed the connection."
2023-05-08 21:02:46.553 +01:00 [DBG] Connection id "0HMQFVSL9QEQP" stopped.
2023-05-08 21:03:06.863 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" reset.
2023-05-08 21:03:06.866 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" reset.
2023-05-08 21:03:06.868 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" sending FIN because: "The client closed the connection."
2023-05-08 21:03:06.870 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" sending FIN because: "The client closed the connection."
2023-05-08 21:03:06.871 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" disconnecting.
2023-05-08 21:03:06.872 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" disconnecting.
2023-05-08 21:03:06.874 +01:00 [DBG] Connection id "0HMQFVSL9QEQQ" stopped.
2023-05-08 21:03:06.882 +01:00 [DBG] Connection id "0HMQFVSL9QEQR" stopped.
2023-05-08 21:03:10.556 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:03:10.792 +01:00 [DBG] Hosting starting
2023-05-08 21:03:10.831 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:03:10.843 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:03:10.868 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:03:11.081 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:03:11.121 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:11.154 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:03:11.180 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:11.194 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:03:11.203 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:03:11.213 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:03:11.216 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:03:11.476 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:03:11.570 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:03:11.572 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:03:11.574 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:03:11.577 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:03:11.578 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:03:11.579 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:03:11.588 +01:00 [INF] Hosting environment: Development
2023-05-08 21:03:11.593 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:03:11.594 +01:00 [DBG] Hosting started
2023-05-08 21:03:11.969 +01:00 [DBG] Connection id "0HMQFVT078A5P" accepted.
2023-05-08 21:03:11.973 +01:00 [DBG] Connection id "0HMQFVT078A5P" started.
2023-05-08 21:03:12.018 +01:00 [DBG] Connection id "0HMQFVT078A5Q" accepted.
2023-05-08 21:03:12.020 +01:00 [DBG] Connection id "0HMQFVT078A5Q" started.
2023-05-08 21:03:12.055 +01:00 [DBG] Connection 0HMQFVT078A5P established using the following protocol: "Tls13"
2023-05-08 21:03:12.055 +01:00 [DBG] Connection 0HMQFVT078A5Q established using the following protocol: "Tls13"
2023-05-08 21:03:12.116 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:03:12.116 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:03:12.134 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:12.134 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:12.194 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:03:12.194 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:03:12.202 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:03:12.202 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:03:12.204 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:03:12.206 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:12.207 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:12.263 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:12.263 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:12.277 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:12.277 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:12.353 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:03:12.357 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:12.451 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:03:12.453 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:12.462 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:12.464 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:12.466 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:12.467 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:12.472 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:12.679 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:03:12.682 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:03:12.687 +01:00 [DBG] Authorization was successful.
2023-05-08 21:03:12.690 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:12.691 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:03:12.698 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:03:12.699 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:12.702 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:12.709 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:12.712 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:12.714 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:12.716 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:12.746 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:12.750 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:12.762 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:03:12.762 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:12.768 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:03:12.768 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:03:12.770 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:12.771 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:12.772 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:12.774 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:12.776 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:03:12.777 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:12.781 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:12.785 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:12.787 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:03:12.788 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:12.788 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:03:12.790 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:12.793 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:12.795 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:13.748 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:03:13.750 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:03:14.375 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:14.375 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:14.437 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:03:14.438 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:03:14.690 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:03:14.691 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:03:14.738 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:14.738 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:14.794 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2023-05-08 21:03:14.794 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2023-05-08 21:03:14.804 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:14.807 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:14.831 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:14.834 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:14.853 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:14.853 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:14.908 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:14.908 +01:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:14.921 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:14.940 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:14.962 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:03:14.971 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:03:14.983 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:03:15.015 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:15.024 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:15.026 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:15.028 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:15.030 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:03:15.031 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:03:15.052 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 2570.6497ms
2023-05-08 21:03:15.054 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:15.056 +01:00 [DBG] Connection id "0HMQFVT078A5P" completed keep alive response.
2023-05-08 21:03:15.061 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:15.068 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 2957.4167ms
2023-05-08 21:03:15.074 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:03:15.078 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:15.084 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:15.086 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:15.089 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:15.091 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:15.092 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:15.093 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:03:15.096 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:03:15.150 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2433.859ms
2023-05-08 21:03:15.151 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:15.154 +01:00 [DBG] Connection id "0HMQFVT078A5Q" completed keep alive response.
2023-05-08 21:03:15.156 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:15.157 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3047.2499ms
2023-05-08 21:03:16.546 +01:00 [DBG] Connection id "0HMQFVT078A5P" reset.
2023-05-08 21:03:16.547 +01:00 [DBG] Connection id "0HMQFVT078A5Q" reset.
2023-05-08 21:03:16.559 +01:00 [DBG] Connection id "0HMQFVT078A5P" sending FIN because: "The client closed the connection."
2023-05-08 21:03:16.563 +01:00 [DBG] Connection id "0HMQFVT078A5Q" sending FIN because: "The client closed the connection."
2023-05-08 21:03:16.565 +01:00 [DBG] Connection id "0HMQFVT078A5P" disconnecting.
2023-05-08 21:03:16.566 +01:00 [DBG] Connection id "0HMQFVT078A5Q" disconnecting.
2023-05-08 21:03:16.575 +01:00 [DBG] Connection id "0HMQFVT078A5Q" stopped.
2023-05-08 21:03:16.576 +01:00 [DBG] Connection id "0HMQFVT078A5P" stopped.
2023-05-08 21:03:20.352 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:03:20.643 +01:00 [DBG] Hosting starting
2023-05-08 21:03:20.683 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:03:20.699 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:03:20.727 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:03:20.752 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:03:20.767 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:20.781 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:03:20.786 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:20.797 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:03:20.803 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:03:20.812 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:03:20.817 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:03:21.051 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:03:21.145 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:03:21.147 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:03:21.148 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:03:21.149 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:03:21.150 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:03:21.151 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:03:21.152 +01:00 [INF] Hosting environment: Development
2023-05-08 21:03:21.153 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:03:21.154 +01:00 [DBG] Hosting started
2023-05-08 21:03:22.573 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" accepted.
2023-05-08 21:03:22.580 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" started.
2023-05-08 21:03:22.626 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" accepted.
2023-05-08 21:03:22.628 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" started.
2023-05-08 21:03:22.675 +01:00 [DBG] Connection 0HMQFVT3CC1SR established using the following protocol: "Tls13"
2023-05-08 21:03:22.675 +01:00 [DBG] Connection 0HMQFVT3CC1SS established using the following protocol: "Tls13"
2023-05-08 21:03:22.759 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:03:22.759 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:03:22.784 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:22.784 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:22.893 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:03:22.893 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:03:22.914 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:03:22.919 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:03:22.923 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:03:22.934 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:22.936 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:23.020 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:23.028 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:23.052 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:23.052 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:23.125 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:03:23.174 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:23.257 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:03:23.271 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:23.276 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:23.281 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:23.287 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:23.295 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:23.299 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:23.519 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:03:23.532 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:03:23.544 +01:00 [DBG] Authorization was successful.
2023-05-08 21:03:23.546 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:23.559 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:03:23.573 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:23.575 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:23.577 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:23.580 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:23.584 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:23.587 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:23.612 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:03:23.612 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:03:23.667 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:23.674 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:23.700 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:23.700 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:03:23.709 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:03:23.709 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:03:23.713 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:23.715 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:23.717 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:23.719 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:23.723 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:23.725 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:03:23.732 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:23.767 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:23.770 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:03:23.777 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:03:23.784 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:23.787 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:23.791 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:23.794 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:24.903 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:03:24.905 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:03:25.561 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:25.561 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:25.622 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:03:25.623 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:03:25.887 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:03:25.887 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:03:25.938 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:25.938 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:25.993 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2023-05-08 21:03:25.993 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2023-05-08 21:03:25.998 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:26.003 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:26.020 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:26.023 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:26.039 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:26.039 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:26.083 +01:00 [ERR] Failed executing DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:26.083 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:26.093 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:26.107 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:26.142 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:03:26.144 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:03:26.154 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:03:26.203 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:26.210 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:26.212 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:26.213 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:26.216 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:03:26.218 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:03:26.238 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 2931.2573ms
2023-05-08 21:03:26.246 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:26.249 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" completed keep alive response.
2023-05-08 21:03:26.253 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:26.266 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 3515.2779ms
2023-05-08 21:03:26.312 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:03:26.325 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:26.328 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:26.332 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:26.335 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:26.337 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:26.338 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:26.339 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:03:26.341 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:03:26.396 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2809.7887ms
2023-05-08 21:03:26.399 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:26.401 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" completed keep alive response.
2023-05-08 21:03:26.402 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:26.403 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3654.2752ms
2023-05-08 21:03:42.413 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" reset.
2023-05-08 21:03:42.413 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" reset.
2023-05-08 21:03:42.441 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" sending FIN because: "The client closed the connection."
2023-05-08 21:03:42.442 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" sending FIN because: "The client closed the connection."
2023-05-08 21:03:42.443 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" disconnecting.
2023-05-08 21:03:42.446 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" disconnecting.
2023-05-08 21:03:42.454 +01:00 [DBG] Connection id "0HMQFVT3CC1SS" stopped.
2023-05-08 21:03:42.454 +01:00 [DBG] Connection id "0HMQFVT3CC1SR" stopped.
2023-05-08 21:03:46.469 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:03:46.714 +01:00 [DBG] Hosting starting
2023-05-08 21:03:46.757 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:03:46.765 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:03:46.791 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:03:46.829 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:03:46.843 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:46.852 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:03:46.856 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:03:46.869 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:03:46.880 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:03:46.888 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:03:46.891 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:03:47.090 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:03:47.177 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:03:47.180 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:03:47.183 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:03:47.189 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:03:47.191 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:03:47.193 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:03:47.194 +01:00 [INF] Hosting environment: Development
2023-05-08 21:03:47.196 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:03:47.198 +01:00 [DBG] Hosting started
2023-05-08 21:03:47.832 +01:00 [DBG] Connection id "0HMQFVTAT87QA" accepted.
2023-05-08 21:03:47.841 +01:00 [DBG] Connection id "0HMQFVTAT87QA" started.
2023-05-08 21:03:47.953 +01:00 [DBG] Connection id "0HMQFVTAT87QB" accepted.
2023-05-08 21:03:47.959 +01:00 [DBG] Connection id "0HMQFVTAT87QB" started.
2023-05-08 21:03:48.007 +01:00 [DBG] Connection 0HMQFVTAT87QA established using the following protocol: "Tls13"
2023-05-08 21:03:48.010 +01:00 [DBG] Connection 0HMQFVTAT87QB established using the following protocol: "Tls13"
2023-05-08 21:03:48.095 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:03:48.095 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:03:48.120 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:48.120 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:03:48.202 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:03:48.202 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:03:48.214 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:03:48.214 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:03:48.218 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:03:48.221 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:48.230 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:48.316 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:48.316 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:03:48.337 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:48.337 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:03:48.389 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:03:48.392 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:48.452 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:03:48.456 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:48.460 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:48.462 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:48.465 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:48.468 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:48.471 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:48.695 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:03:48.703 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:03:48.706 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:03:48.714 +01:00 [DBG] Authorization was successful.
2023-05-08 21:03:48.717 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:48.726 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:03:48.728 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:03:48.730 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:03:48.733 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:03:48.734 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:03:48.736 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:03:48.738 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:48.747 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:03:48.759 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:03:48.762 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:03:48.762 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:48.767 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:03:48.767 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:03:48.771 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:48.774 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:48.776 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:03:48.777 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:48.778 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:03:48.779 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:03:48.783 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:03:48.786 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:48.789 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:03:48.791 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:03:48.794 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:48.798 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:48.801 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:03:48.804 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:03:49.723 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:03:49.725 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:03:50.323 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:50.324 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:03:50.386 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:03:50.387 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:03:50.675 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:03:50.675 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:03:50.721 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:50.721 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:03:50.774 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (47ms).
2023-05-08 21:03:50.774 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (47ms).
2023-05-08 21:03:50.780 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:50.782 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:50.807 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:50.807 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:50.825 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:50.825 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:50.862 +01:00 [ERR] Failed executing DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:03:50.862 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:03:50.869 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:50.877 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:50.907 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:03:50.916 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:03:50.917 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:03:50.953 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:50.957 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:50.958 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:50.963 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:50.966 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:03:50.969 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:03:50.991 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 2511.3411ms
2023-05-08 21:03:50.995 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:03:50.997 +01:00 [DBG] Connection id "0HMQFVTAT87QA" completed keep alive response.
2023-05-08 21:03:51.002 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:51.015 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 2928.6357ms
2023-05-08 21:03:51.069 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:03:51.074 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:03:51.076 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:03:51.079 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:03:51.089 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:03:51.091 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:03:51.092 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:03:51.093 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:03:51.094 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:03:51.144 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2406.2463ms
2023-05-08 21:03:51.146 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:03:51.149 +01:00 [DBG] Connection id "0HMQFVTAT87QB" completed keep alive response.
2023-05-08 21:03:51.150 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:03:51.151 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3065.3283ms
2023-05-08 21:04:01.949 +01:00 [DBG] Connection id "0HMQFVTAT87QA" reset.
2023-05-08 21:04:01.969 +01:00 [DBG] Connection id "0HMQFVTAT87QB" reset.
2023-05-08 21:04:01.987 +01:00 [DBG] Connection id "0HMQFVTAT87QA" sending FIN because: "The client closed the connection."
2023-05-08 21:04:01.992 +01:00 [DBG] Connection id "0HMQFVTAT87QB" disconnecting.
2023-05-08 21:04:01.996 +01:00 [DBG] Connection id "0HMQFVTAT87QA" disconnecting.
2023-05-08 21:04:02.025 +01:00 [DBG] Connection id "0HMQFVTAT87QB" sending FIN because: "The client closed the connection."
2023-05-08 21:04:02.041 +01:00 [DBG] Connection id "0HMQFVTAT87QA" stopped.
2023-05-08 21:04:02.054 +01:00 [DBG] Connection id "0HMQFVTAT87QB" stopped.
2023-05-08 21:04:05.750 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:04:05.967 +01:00 [DBG] Hosting starting
2023-05-08 21:04:06.004 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:04:06.014 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:04:06.039 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:04:06.066 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:04:06.072 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:06.083 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:04:06.086 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:06.096 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:04:06.103 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:04:06.121 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:04:06.130 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:04:06.318 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:04:06.406 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:04:06.408 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:04:06.412 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:04:06.415 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:04:06.417 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:04:06.418 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:04:06.421 +01:00 [INF] Hosting environment: Development
2023-05-08 21:04:06.422 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:04:06.423 +01:00 [DBG] Hosting started
2023-05-08 21:04:06.521 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" accepted.
2023-05-08 21:04:06.525 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" started.
2023-05-08 21:04:06.635 +01:00 [DBG] Connection 0HMQFVTGFFQ2F established using the following protocol: "Tls13"
2023-05-08 21:04:06.666 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" accepted.
2023-05-08 21:04:06.669 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" started.
2023-05-08 21:04:06.675 +01:00 [DBG] Connection 0HMQFVTGFFQ2G established using the following protocol: "Tls13"
2023-05-08 21:04:06.735 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:04:06.735 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:04:06.754 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:04:06.754 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:04:06.828 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:04:06.828 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:04:06.842 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:04:06.842 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:04:06.845 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:06.846 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:04:06.852 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:06.919 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:06.919 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:06.934 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:06.935 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:06.985 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:04:06.987 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:07.056 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:04:07.061 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:07.064 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:07.067 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:07.079 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:07.081 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:07.088 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:07.321 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:04:07.336 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:04:07.338 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:04:07.342 +01:00 [DBG] Authorization was successful.
2023-05-08 21:04:07.343 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:07.350 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:04:07.352 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:07.354 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:07.355 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:07.356 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:07.358 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:07.359 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:07.368 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:07.378 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:07.383 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:07.383 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:04:07.387 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:04:07.387 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:04:07.389 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:07.390 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:07.392 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:07.393 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:07.394 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:07.398 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:04:07.402 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:07.405 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:07.406 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:04:07.408 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:07.408 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:04:07.409 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:07.413 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:07.415 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:08.278 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:04:08.280 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:04:08.837 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:08.837 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:08.912 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:04:08.913 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:04:09.173 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:04:09.173 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:04:09.214 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:09.214 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:09.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (51ms).
2023-05-08 21:04:09.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (49ms).
2023-05-08 21:04:09.278 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:09.279 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:09.299 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:09.299 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:09.312 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:09.312 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:09.343 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:09.343 +01:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:09.352 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:09.361 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:09.386 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:04:09.388 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:04:09.400 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:04:09.476 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:09.487 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:09.493 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:09.495 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:09.498 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:04:09.507 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:04:09.527 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:04:09.537 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:09.537 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 2437.6592ms
2023-05-08 21:04:09.540 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:09.544 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:09.549 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:09.551 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" completed keep alive response.
2023-05-08 21:04:09.553 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:09.555 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:09.557 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:09.558 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:09.558 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:04:09.561 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:04:09.564 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 2835.1943ms
2023-05-08 21:04:09.620 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2260.6152ms
2023-05-08 21:04:09.621 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:09.622 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" completed keep alive response.
2023-05-08 21:04:09.624 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:09.628 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 2899.4377ms
2023-05-08 21:04:13.972 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" reset.
2023-05-08 21:04:13.972 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" reset.
2023-05-08 21:04:13.974 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" sending FIN because: "The client closed the connection."
2023-05-08 21:04:13.974 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" sending FIN because: "The client closed the connection."
2023-05-08 21:04:13.977 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" disconnecting.
2023-05-08 21:04:13.979 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" disconnecting.
2023-05-08 21:04:13.986 +01:00 [DBG] Connection id "0HMQFVTGFFQ2G" stopped.
2023-05-08 21:04:13.986 +01:00 [DBG] Connection id "0HMQFVTGFFQ2F" stopped.
2023-05-08 21:04:20.036 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:04:21.282 +01:00 [DBG] Hosting starting
2023-05-08 21:04:21.322 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:04:21.337 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:04:21.365 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:04:21.408 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:04:21.422 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:21.444 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:04:21.460 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:21.471 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:04:21.477 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:04:21.488 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:04:21.494 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:04:21.705 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:04:21.801 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:04:21.862 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:04:21.864 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:04:21.905 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:04:21.929 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:04:21.979 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:04:21.980 +01:00 [INF] Hosting environment: Development
2023-05-08 21:04:21.983 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:04:21.984 +01:00 [DBG] Hosting started
2023-05-08 21:04:24.109 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" accepted.
2023-05-08 21:04:24.117 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" started.
2023-05-08 21:04:24.235 +01:00 [DBG] Connection 0HMQFVTLN7HCJ established using the following protocol: "Tls13"
2023-05-08 21:04:24.341 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:04:24.376 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" accepted.
2023-05-08 21:04:24.382 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:04:24.385 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" started.
2023-05-08 21:04:24.398 +01:00 [DBG] Connection 0HMQFVTLN7HCK established using the following protocol: "Tls13"
2023-05-08 21:04:24.404 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:04:24.474 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:04:24.474 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:04:24.490 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:04:24.491 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:04:24.499 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:24.501 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:04:24.504 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:24.590 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:24.590 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:24.621 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:24.621 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:24.696 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:04:24.699 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:24.763 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:04:24.820 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:24.848 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:24.854 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:24.868 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:24.887 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:24.904 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:25.084 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:04:25.087 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:04:25.097 +01:00 [DBG] Authorization was successful.
2023-05-08 21:04:25.107 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:25.128 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:04:25.144 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:04:25.164 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:25.181 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:25.186 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:25.195 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:25.197 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:25.199 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:25.222 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:25.231 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:25.246 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:25.249 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:04:25.253 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:04:25.263 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:04:25.264 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:25.266 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:25.267 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:25.269 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:25.270 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:25.272 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:04:25.281 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:25.289 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:25.291 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:04:25.298 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:04:25.302 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:25.319 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:25.333 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:25.335 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:26.317 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:04:26.319 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:04:26.928 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:26.928 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:27.008 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:04:27.008 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:04:27.253 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:04:27.253 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:04:27.319 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:27.319 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:27.384 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (57ms).
2023-05-08 21:04:27.384 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (57ms).
2023-05-08 21:04:27.397 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:27.398 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:27.428 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:27.431 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:27.449 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:27.449 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:27.496 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:27.496 +01:00 [ERR] Failed executing DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:27.504 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:27.514 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:27.538 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:04:27.547 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:04:27.557 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:04:27.590 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:27.595 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:27.596 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:27.600 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:27.604 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:04:27.611 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:04:27.636 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 2723.1975ms
2023-05-08 21:04:27.641 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:27.643 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" completed keep alive response.
2023-05-08 21:04:27.652 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:27.656 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:04:27.661 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 3336.0148ms
2023-05-08 21:04:27.662 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:27.683 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:27.686 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:27.698 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:27.699 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:27.700 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:27.701 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:04:27.704 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:04:27.761 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 2561.3454ms
2023-05-08 21:04:27.768 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:27.780 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" completed keep alive response.
2023-05-08 21:04:27.781 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:27.782 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3378.0319ms
2023-05-08 21:04:31.052 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" reset.
2023-05-08 21:04:31.052 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" reset.
2023-05-08 21:04:31.058 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" sending FIN because: "The client closed the connection."
2023-05-08 21:04:31.058 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" sending FIN because: "The client closed the connection."
2023-05-08 21:04:31.064 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" disconnecting.
2023-05-08 21:04:31.065 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" disconnecting.
2023-05-08 21:04:31.073 +01:00 [DBG] Connection id "0HMQFVTLN7HCK" stopped.
2023-05-08 21:04:31.073 +01:00 [DBG] Connection id "0HMQFVTLN7HCJ" stopped.
2023-05-08 21:04:35.712 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-08 21:04:36.048 +01:00 [DBG] Hosting starting
2023-05-08 21:04:36.125 +01:00 [INF] User profile is available. Using 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-05-08 21:04:36.138 +01:00 [DBG] Reading data from file 'C:\Users\bsahe\AppData\Local\ASP.NET\DataProtection-Keys\key-ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0.xml'.
2023-05-08 21:04:36.178 +01:00 [DBG] Found key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0}.
2023-05-08 21:04:36.225 +01:00 [DBG] Considering key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} with expiration date 2023-06-21 23:35:22Z as default key.
2023-05-08 21:04:36.290 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:36.298 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-05-08 21:04:36.452 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-05-08 21:04:36.487 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-05-08 21:04:36.534 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-05-08 21:04:36.588 +01:00 [DBG] Using key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} as the default key.
2023-05-08 21:04:36.591 +01:00 [DBG] Key ring with default key {ae05be0e-0a9c-48bc-ac3a-d7d82fd26ba0} was loaded during application startup.
2023-05-08 21:04:36.823 +01:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 00D5B8A748A32CF248CC35D3C1B514BD27DFD320)
2023-05-08 21:04:37.010 +01:00 [INF] Now listening on: https://localhost:7003
2023-05-08 21:04:37.013 +01:00 [INF] Now listening on: http://localhost:5184
2023-05-08 21:04:37.014 +01:00 [DBG] Loaded hosting startup assembly E-BOOK.API
2023-05-08 21:04:37.019 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-08 21:04:37.022 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-08 21:04:37.024 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-08 21:04:37.025 +01:00 [INF] Hosting environment: Development
2023-05-08 21:04:37.027 +01:00 [INF] Content root path: C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\
2023-05-08 21:04:37.028 +01:00 [DBG] Hosting started
2023-05-08 21:04:37.420 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" accepted.
2023-05-08 21:04:37.423 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" started.
2023-05-08 21:04:37.540 +01:00 [DBG] Connection id "0HMQFVTPM4O40" accepted.
2023-05-08 21:04:37.539 +01:00 [DBG] Connection 0HMQFVTPM4O3V established using the following protocol: "Tls13"
2023-05-08 21:04:37.543 +01:00 [DBG] Connection id "0HMQFVTPM4O40" started.
2023-05-08 21:04:37.549 +01:00 [DBG] Connection 0HMQFVTPM4O40 established using the following protocol: "Tls13"
2023-05-08 21:04:37.609 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - -
2023-05-08 21:04:37.609 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - -
2023-05-08 21:04:37.627 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:04:37.627 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-08 21:04:37.700 +01:00 [DBG] 2 candidate(s) found for the request path '/api/book/popular'
2023-05-08 21:04:37.700 +01:00 [DBG] 1 candidate(s) found for the request path '/api/account/search/email'
2023-05-08 21:04:37.712 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)' with route pattern 'api/account/search/email' is valid for the request path '/api/account/search/email'
2023-05-08 21:04:37.712 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)' with route pattern 'api/book/popular' is valid for the request path '/api/book/popular'
2023-05-08 21:04:37.715 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:37.718 +01:00 [DBG] Endpoint 'E_BOOK.API.Controllers.BookController.GetBookById (E-BOOK.API)' with route pattern 'api/book/{id}' is valid for the request path '/api/book/popular'
2023-05-08 21:04:37.721 +01:00 [DBG] Request matched endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:37.784 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:37.784 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-05-08 21:04:37.800 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:37.800 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2023-05-08 21:04:37.865 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-05-08 21:04:37.869 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:37.937 +01:00 [INF] Route matched with {action = "GetAllPopularBooks", controller = "Book"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllPopularBooks(Int32, Int32) on controller E_BOOK.API.Controllers.BookController (E-BOOK.API).
2023-05-08 21:04:37.946 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:37.951 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:37.954 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:37.961 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:37.963 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:37.966 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:38.199 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:04:38.221 +01:00 [DBG] Successfully validated the token.
2023-05-08 21:04:38.224 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-05-08 21:04:38.230 +01:00 [DBG] Authorization was successful.
2023-05-08 21:04:38.232 +01:00 [INF] Executing endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:38.244 +01:00 [INF] Route matched with {action = "FindUserbyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindUserbyEmail(System.String) on controller E_BOOK.API.Controllers.AccountController (E-BOOK.API).
2023-05-08 21:04:38.246 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-08 21:04:38.248 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-08 21:04:38.251 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-08 21:04:38.255 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-08 21:04:38.257 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-08 21:04:38.258 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.BookController (E-BOOK.API)
2023-05-08 21:04:38.259 +01:00 [DBG] Executing controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:38.277 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:38.278 +01:00 [DBG] Executed controller factory for controller E_BOOK.API.Controllers.AccountController (E-BOOK.API)
2023-05-08 21:04:38.280 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' ...
2023-05-08 21:04:38.283 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-05-08 21:04:38.288 +01:00 [DBG] Attempting to bind parameter 'email' of type 'System.String' using the name 'email' in request data ...
2023-05-08 21:04:38.291 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:38.294 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:38.298 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:38.301 +01:00 [DBG] Done attempting to bind parameter 'email' of type 'System.String'.
2023-05-08 21:04:38.303 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-05-08 21:04:38.305 +01:00 [DBG] Attempting to validate the bound parameter 'email' of type 'System.String' ...
2023-05-08 21:04:38.313 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-05-08 21:04:38.320 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:38.322 +01:00 [DBG] Attempting to bind parameter 'perPageSize' of type 'System.Int32' using the name 'perPageSize' in request data ...
2023-05-08 21:04:38.325 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:38.326 +01:00 [DBG] Done attempting to validate the bound parameter 'email' of type 'System.String'.
2023-05-08 21:04:38.328 +01:00 [DBG] Done attempting to bind parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:38.333 +01:00 [DBG] Attempting to validate the bound parameter 'perPageSize' of type 'System.Int32' ...
2023-05-08 21:04:38.348 +01:00 [DBG] Done attempting to validate the bound parameter 'perPageSize' of type 'System.Int32'.
2023-05-08 21:04:39.540 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:04:39.544 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:04:40.160 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:40.160 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:04:40.247 +01:00 [DBG] Compiling query expression: 
'DbSet<Book>()
    .OrderByDescending(b => b.ViewBook)'
2023-05-08 21:04:40.248 +01:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-05-08 21:04:40.633 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: new SingleQueryingEnumerable<AppUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 2], [Property: AppUser.Email (string) MaxLength(256), 3], [Property: AppUser.EmailConfirmed (bool) Required, 4], [Property: AppUser.FirstName (string) Required, 5], [Property: AppUser.Gender (Gender) Required, 6], [Property: AppUser.LastName (string) Required, 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.ProfilePicture (string) Required, 15], [Property: AppUser.SecurityStamp (string), 16], [Property: AppUser.TwoFactorEnabled (bool) Required, 17], [Property: AppUser.UserName (string) MaxLength(256), 18] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfilePicture, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppUser>, 
        MODEL.E_BookDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-08 21:04:40.634 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.AddedToLib (DateTime) Required, 1], [Property: Book.AppUserId (string) Required FK Index, 2], [Property: Book.Author (string) Required, 3], [Property: Book.BookImg (string) Required, 4], [Property: Book.Description (string) Required, 5], [Property: Book.ISBN (string) Required, 6], [Property: Book.NoPage (int) Required, 7], [Property: Book.Publisher (string) Required, 8], [Property: Book.PublisherDate (DateTime) Required, 9], [Property: Book.Rating (double) Required, 10], [Property: Book.Title (string) Required, 11], [Property: Book.ViewBook (int) Required, 12] }
        SELECT b.Id, b.AddedToLib, b.AppUserId, b.Author, b.BookImg, b.Description, b.ISBN, b.NoPage, b.Publisher, b.PublisherDate, b.Rating, b.Title, b.ViewBook
        FROM Books AS b
        ORDER BY b.ViewBook DESC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    MODEL.E_BookDbContext, 
    False, 
    False, 
    True
)'
2023-05-08 21:04:40.697 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:40.697 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-08 21:04:40.776 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2023-05-08 21:04:40.776 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2023-05-08 21:04:40.782 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:40.786 +01:00 [DBG] Opening connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:40.809 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:40.814 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:40.828 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:40.828 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:40.870 +01:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."AddedToLib", "b"."AppUserId", "b"."Author", "b"."BookImg", "b"."Description", "b"."ISBN", "b"."NoPage", "b"."Publisher", "b"."PublisherDate", "b"."Rating", "b"."Title", "b"."ViewBook"
FROM "Books" AS "b"
ORDER BY "b"."ViewBook" DESC
2023-05-08 21:04:40.870 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 19)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."Gender", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."ProfilePicture", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-05-08 21:04:40.878 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:40.889 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:40.923 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:04:40.927 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'MODEL.E_BookDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-05-08 21:04:40.944 +01:00 [ERR] An error occurred while processing get all popular book request
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: b.Rating'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__19_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Storage.NonRetryingExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at E_BOOK.API.Repository.E_BookRepository.PopularBook() in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\DATA.API\Repository\E-BookRepository.cs:line 106
   at E_BOOK.API.Controllers.BookController.GetAllPopularBooks(Int32 pageNumber, Int32 perPageSize) in C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\Controllers\BookController.cs:line 104
2023-05-08 21:04:40.987 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:40.993 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:40.994 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:40.995 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:40.998 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-05-08 21:04:41.001 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-05-08 21:04:41.025 +01:00 [INF] Executed action E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API) in 3048.2782ms
2023-05-08 21:04:41.037 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.BookController.GetAllPopularBooks (E-BOOK.API)'
2023-05-08 21:04:41.038 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" completed keep alive response.
2023-05-08 21:04:41.043 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:41.051 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/book/popular?pageNumber=1&perPageSize=6 - - - 400 - text/plain;+charset=utf-8 3447.0914ms
2023-05-08 21:04:41.063 +01:00 [DBG] A data reader was disposed.
2023-05-08 21:04:41.069 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\bsahe\source\repos\updateGroupb\E-BOOK-LIBRARY(GROUPB)\E-BOOK.API\E-Book.db'.
2023-05-08 21:04:41.072 +01:00 [DBG] Closed connection to database 'main' on server 'E-Book.db'.
2023-05-08 21:04:41.105 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-05-08 21:04:41.259 +01:00 [DBG] No information found on request to perform content negotiation.
2023-05-08 21:04:41.260 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-08 21:04:41.261 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-08 21:04:41.262 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-08 21:04:41.264 +01:00 [INF] Executing OkObjectResult, writing value of type 'MODEL.DTO.DisplayFindUserDTO'.
2023-05-08 21:04:41.319 +01:00 [INF] Executed action E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API) in 3060.1065ms
2023-05-08 21:04:41.320 +01:00 [INF] Executed endpoint 'E_BOOK.API.Controllers.AccountController.FindUserbyEmail (E-BOOK.API)'
2023-05-08 21:04:41.325 +01:00 [DBG] Connection id "0HMQFVTPM4O40" completed keep alive response.
2023-05-08 21:04:41.328 +01:00 [DBG] 'E_BookDbContext' disposed.
2023-05-08 21:04:41.330 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7003/api/account/search/email?email=bsaheed79@gmail.com - - - 200 - application/json;+charset=utf-8 3727.3829ms
2023-05-08 21:04:57.061 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" reset.
2023-05-08 21:04:57.066 +01:00 [DBG] Connection id "0HMQFVTPM4O40" reset.
2023-05-08 21:04:57.077 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" sending FIN because: "The client closed the connection."
2023-05-08 21:04:57.081 +01:00 [DBG] Connection id "0HMQFVTPM4O40" sending FIN because: "The client closed the connection."
2023-05-08 21:04:57.085 +01:00 [DBG] Connection id "0HMQFVTPM4O40" disconnecting.
2023-05-08 21:04:57.095 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" disconnecting.
2023-05-08 21:04:57.106 +01:00 [DBG] Connection id "0HMQFVTPM4O3V" stopped.
2023-05-08 21:04:57.106 +01:00 [DBG] Connection id "0HMQFVTPM4O40" stopped.
2023-05-08 21:04:59.905 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-08 21:05:02.158 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:05:02.161 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:05:05.440 +01:00 [INF] Entity Framework Core 6.0.1 initialized 'E_BookDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.1' with options: None
2023-05-08 21:05:05.516 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-05-08 21:05:05.516 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-05-08 21:05:05.961 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:05.964 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:05.965 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.044 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.044 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.045 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.062 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.063 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.237 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.237 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.239 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.316 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.317 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.318 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.383 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.383 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.460 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.482 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.531 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.536 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.537 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.537 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.538 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.545 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.557 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.558 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.558 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.558 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.566 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.574 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.613 +01:00 [DBG] DetectChanges starting for 'E_BookDbContext'.
2023-05-08 21:05:06.658 +01:00 [DBG] DetectChanges completed for 'E_BookDbContext'.
2023-05-08 21:05:06.819 +01:00 [DBG] DetectChanges starting for 'E_BookDbContext'.
2023-05-08 21:05:06.826 +01:00 [DBG] DetectChanges completed for 'E_BookDbContext'.
2023-05-08 21:05:06.863 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.865 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.866 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.867 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.867 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.868 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.868 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.868 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.869 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.870 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.870 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Book' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.871 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.871 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.871 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'Review' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.871 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.871 +01:00 [DBG] Context 'E_BookDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.873 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.874 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.874 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.875 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.875 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:06.875 +01:00 [DBG] An entity of type 'Book' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.401 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.402 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.402 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.402 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.402 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.402 +01:00 [DBG] An entity of type 'Review' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.403 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.403 +01:00 [DBG] An entity of type 'IdentityRole' tracked by 'E_BookDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-08 21:05:07.403 +01:00 [DBG] DetectChanges starting for 'E_BookDbContext'.
2023-05-08 21:05:07.403 +01:00 [DBG] DetectChanges completed for 'E_BookDbContext'.
2023-05-08 21:05:07.404 +01:00 [DBG] DetectChanges starting for 'E_BookDbContext'.
2023-05-08 21:05:07.405 +01:00 [DBG] DetectChanges completed for 'E_BookDbContext'.
2023-05-08 21:05:07.671 +01:00 [DBG] 'E_BookDbContext' disposed.
